# ssh-keygen -t rsa -b 2048 -C mako/andrew@git-ci.ibaset.com -f id_andrew@git-ci.ibaset.com
# cat ~/.ssh/id_rsa.pub | ssh <user>@<hostname> 'cat >> .ssh/authorized_keys && echo "Key copied"'
# ssh-copy-id user@hostname.example.com

Host *
    # Set ServerAliveInterval for all connections
    ServerAliveInterval 120
    ServerAliveCountMax 5

    # http://interrobeng.com/2013/08/25/speed-up-git-5x-to-50x/
    ControlMaster auto
    ControlPath ~/.ssh/conn-%r@%h:%p
    # ControlPersist yes

# -- github-keygen - begin --

Host gist.github.com *.gist.github.com
    Hostname gist.github.com

# See https://help.github.com/articles/using-ssh-over-the-https-port
Host ssh.github.com *.ssh.github.com 443.github.com *.443.github.com
    Hostname ssh.github.com
    Port 443

# This rule must stay below more specific host rules to avoid
# "Hostname" to be set to github.com
Host *.github.com
    Hostname github.com

Host github.com gist.github.com ssh.github.com 443.github.com *.github.com *.gist.github.com *.ssh.github.com *.443.github.com
    User git
    # Force SSH2
    Protocol 2
    # Enforce host checks
    StrictHostKeyChecking yes
    UserKnownHostsFile ~/.ssh/known_hosts_github
    # Hosts added later (identified by IP) will be hashed
    HashKnownHosts yes
    # GitHub has not yet (2011-05) implemented SSHFP (RFC 4255)
    VerifyHostKeyDNS no
    # Enable only the required authentication
    PubkeyAuthentication yes
    PreferredAuthentications publickey
    # Select algorithms recommended by Stribika
    #  See https://stribika.github.io/2015/01/04/secure-secure-shell.html
    #  Last in each list is the minimum supported by Github
    KexAlgorithms curve25519-sha256@libssh.org,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1
    Ciphers chacha20-poly1305@openssh.com,aes256-gcm@openssh.com,aes128-gcm@openssh.com,aes256-ctr
    MACs hmac-sha2-512-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-ripemd160-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-512
    # Trust no one, especially the remote
    ForwardAgent no
    ForwardX11 no
    PermitLocalCommand no

Host catesandrew.github.com catesandrew.gist.github.com catesandrew.ssh.github.com catesandrew.443.github.com
    IdentitiesOnly yes
    IdentityFile ~/.ssh/id_catesandrew@github

# -- github-keygen - end --

# gitlab.cates.io
Host *.gitlab.cates.io
     Hostname gitlab.cates.io

Host gitlab.cates.io ssh.gitlab.cates.io 443.gitlab.cates.io *.gitlab.cates.io *.ssh.gitlab.cates.io *.443.gitlab.cates.io
    Port 2200
    User git
    # Force SSH2
    Protocol 2
    # Enforce host checks
    StrictHostKeyChecking yes
    UserKnownHostsFile ~/.ssh/known_hosts_catesio
    # Hosts added later (identified by IP) will be hashed
    HashKnownHosts yes
    # GitHub has not yet (2011-05) implemented SSHFP (RFC 4255)
    VerifyHostKeyDNS no
    # Enable only the required authentication
    PubkeyAuthentication yes
    PreferredAuthentications publickey
    # Select algorithms recommended by Stribika
    #  See https://stribika.github.io/2015/01/04/secure-secure-shell.html
    #  Last in each list is the minimum supported by Github
    KexAlgorithms curve25519-sha256@libssh.org,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1
    Ciphers chacha20-poly1305@openssh.com,aes256-gcm@openssh.com,aes128-gcm@openssh.com,aes256-ctr
    MACs hmac-sha2-512-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-ripemd160-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-512
    # Trust no one, especially the remote
    ForwardAgent no
    ForwardX11 no
    PermitLocalCommand no

Host andrew.gitlab.cates.io andrew.ssh.gitlab.cates.io andrew.443.gitlab.cates.io
    IdentitiesOnly yes
    IdentityFile ~/.ssh/id_andrew@gitlab.cates.io

Host admin.gitlab.cates.io admin.ssh.gitlab.cates.io admin.443.gitlab.cates.io
    IdentitiesOnly yes
    IdentityFile ~/.ssh/id_admin@gitlab.cates.io

# andrew.git.ibaset.com
Host andrew.git.ibaset.com
    Hostname git.ibaset.com
    User git
    # Force SSH2
    Protocol 2
    # Do not enforce host checks, because no ECDSA host key is known for git.ibaset.com
    UserKnownHostsFile ~/.ssh/known_hosts_git_ibaset
    # Hosts added later (identified by IP) will be hashed
    HashKnownHosts yes
    # GitHub has not yet (2011-05) implemented SSHFP (RFC 4255)
    VerifyHostKeyDNS no
    # Enable only the required authentication
    PubkeyAuthentication yes
    PreferredAuthentications publickey
    # Select algorithms recommended by Stribika
    #  See https://stribika.github.io/2015/01/04/secure-secure-shell.html
    #  Last in each list is the minimum supported by Github
    KexAlgorithms curve25519-sha256@libssh.org,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1
    Ciphers chacha20-poly1305@openssh.com,aes256-gcm@openssh.com,aes128-gcm@openssh.com,aes256-ctr
    MACs hmac-sha2-512-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-ripemd160-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-512
    # Trust no one, especially the remote
    ForwardAgent no
    ForwardX11 no
    PermitLocalCommand no
    IdentitiesOnly yes
    IdentityFile ~/.ssh/id_andrew@git.ibaset

# ibaset.com
Host ibaset.com *.ibaset.com
    # Force SSH2
    Protocol 2
    # Enforce host checks
    StrictHostKeyChecking yes
    UserKnownHostsFile ~/.ssh/known_hosts_ibaset
    # Hosts added later (identified by IP) will be hashed
    HashKnownHosts yes
    # Not yet implemented SSHFP (RFC 4255)
    VerifyHostKeyDNS no
    # Enable only the required authentication
    PubkeyAuthentication yes
    PreferredAuthentications publickey,password
    # Select algorithms recommended by Stribika
    #  See https://stribika.github.io/2015/01/04/secure-secure-shell.html
    #  Last in each list is the minimum supported by Github
    KexAlgorithms curve25519-sha256@libssh.org,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1
    Ciphers chacha20-poly1305@openssh.com,aes256-gcm@openssh.com,aes128-gcm@openssh.com,aes256-ctr
    MACs hmac-sha2-512-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-ripemd160-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-512
    # Trust no one, especially the remote, use `ssh -A` when you need it
    ForwardAgent no
    ForwardX11 no

Host npm.ibaset.com
    HostName npm.ibaset.com
    user andrew
    IdentitiesOnly yes
    IdentityFile ~/.ssh/id_andrew@npm.ibaset.com

Host git.ibaset.com
    HostName git.ibaset.com
    user andrew
    IdentitiesOnly yes
    IdentityFile ~/.ssh/id_andrew@git.ibaset.com

Host git-ci.ibaset.com
    HostName git-ci.ibaset.com
    user andrew
    IdentitiesOnly yes
    IdentityFile ~/.ssh/id_andrew@git-ci.ibaset.com

# .local
Host *.local
    # Force SSH2
    Protocol 2
    # Enforce host checks
    # StrictHostKeyChecking yes
    UserKnownHostsFile ~/.ssh/known_hosts_local
    # Hosts added later (identified by IP) will be hashed
    HashKnownHosts yes
    # GitHub has not yet (2011-05) implemented SSHFP (RFC 4255)
    VerifyHostKeyDNS no
    # Enable only the required authentication
    PubkeyAuthentication yes
    PreferredAuthentications publickey,password
    # Select algorithms recommended by Stribika
    #  See https://stribika.github.io/2015/01/04/secure-secure-shell.html
    #  Last in each list is the minimum supported by Github
    KexAlgorithms curve25519-sha256@libssh.org,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1
    Ciphers chacha20-poly1305@openssh.com,aes256-gcm@openssh.com,aes128-gcm@openssh.com,aes256-ctr
    MACs hmac-sha2-512-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-ripemd160-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-512
    # Trust no one, especially the remote, use `ssh -A` when you need it
    ForwardAgent no
    ForwardX11 no
    # PermitLocalCommand no

Host jaws.local
    Hostname jaws.local
    user andrew
    IdentitiesOnly yes
    IdentityFile ~/.ssh/id_andrew@jaws.local

Host silky.local
    Hostname silky.local
    user admin
    IdentitiesOnly yes
    IdentityFile ~/.ssh/id_admin@silky.local


# cates.io
Host *.cates.io
    # Force SSH2
    Protocol 2
    # Enforce host checks
    StrictHostKeyChecking yes
    UserKnownHostsFile ~/.ssh/known_hosts_cates.io
    # Hosts added later (identified by IP) will be hashed
    HashKnownHosts yes
    # GitHub has not yet (2011-05) implemented SSHFP (RFC 4255)
    VerifyHostKeyDNS no
    # Enable only the required authentication
    PubkeyAuthentication yes
    PreferredAuthentications publickey,password
    # Select algorithms recommended by Stribika
    #  See https://stribika.github.io/2015/01/04/secure-secure-shell.html
    #  Last in each list is the minimum supported by Github
    KexAlgorithms curve25519-sha256@libssh.org,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1
    Ciphers chacha20-poly1305@openssh.com,aes256-gcm@openssh.com,aes128-gcm@openssh.com,aes256-ctr
    MACs hmac-sha2-512-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-ripemd160-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-512
    # Trust no one, especially the remote, use `ssh -A` when you need it
    ForwardAgent no
    ForwardX11 no
    # PermitLocalCommand no

Host andrew.cates.io
    user andrew
    IdentitiesOnly yes
    IdentityFile ~/.ssh/id_andrew@cates.io

# heroku
Host heroku.personal
    HostName heroku.com
    UserKnownHostsFile ~/.ssh/known_hosts_heroku
    IdentityFile ~/.ssh/identity.heroku.personal
    IdentitiesOnly yes

Host heroku.ibaset
    HostName heroku.com
    UserKnownHostsFile ~/.ssh/known_hosts_heroku
    IdentityFile ~/.ssh/identity.heroku.ibaset
    IdentitiesOnly yes
