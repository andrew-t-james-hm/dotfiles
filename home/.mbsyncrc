## Configure

# 1. Install `isync` and `mutt` through [brew](https://brew.sh) or equivalent.
# 2. If on Gmail, [enable IMAP](https://support.google.com/mail/answer/7126229?hl=en).
# 3. If on Gmail 2FA, make an [App Password](https://support.google.com/accounts/answer/185833?hl=en).
# 4. If on Gmail non-2FA, enable [less secure apps](https://support.google.com/accounts/answer/6010255?hl=en).
#
Create Both
Expunge Both
SyncState *

# Gmail Work
IMAPAccount work
Host imap.gmail.com
User acates@happymoney.com
PassCmd "pass mbsync/acates@happymoney.com"
SSLType IMAPS
AuthMechs Login

IMAPStore work-remote
Account work

MaildirStore work-local
Path ~/.mail/work/
Inbox ~/.mail/work/Inbox
SubFolders Legacy

Channel work-inbox
Master :work-remote:
Slave :work-local:
Patterns "INBOX"

Channel work-sent
Master :work-remote:"[Gmail]/Sent Mail"
Slave :work-local:sent

Channel work-trash
Master :work-remote:"[Gmail]/Trash"
Slave :work-local:trash

Channel work-all
Master :work-remote:"[Gmail]/All Mail"
Slave :work-local:all
Patterns "INBOX"

Group work
Channel work-inbox
Channel work-sent
Channel work-trash
Channel work-all

# Gmail mailboxes:
# "All Mail"
# "Drafts"
# "Important"
# "Sent Mail"
# "Spam"
# "Starred"
# "Trash"

# Gmail Personal
IMAPAccount gmail
Host imap.gmail.com
User catesandrew@gmail.com
PassCmd "pass mbsync/catesandrew@gmail.com"
SSLType IMAPS
AuthMechs Login

IMAPStore gmail-remote
Account gmail

MaildirStore gmail-local
Path ~/.mail/gmail/
Inbox ~/.mail/gmail/Inbox
SubFolders Legacy

Channel gmail
Master :gmail-remote:
Slave :gmail-local:
Patterns "[Gmail]/Sent Mail" "[Gmail]/All Mail"
Create Both
SyncState *
Sync All


# # First section: remote IMAP account
# IMAPAccount fastmail
# Host imap.fastmail.com
# Port 993
# User jonathanchu@fastmail.com
# # For simplicity, this is how to read the password from another file.
# # For better security you should use GPG https://gnupg.org/
# PassCmd "cat ~/.mbsync-fastmail"
# SSLType IMAPS
# SSLVersions TLSv1.2
#
# IMAPStore fastmail-remote
# Account fastmail
#
# # This section describes the local storage
# MaildirStore fastmail-local
# Path ~/Maildir/
# Inbox ~/Maildir/INBOX
# SubFolders Verbatim
#
# # This section a "channel", a connection between remote and local
# Channel fastmail
# Master :fastmail-remote:
# Slave :fastmail-local:
# Patterns *
# Expunge None
# CopyArrivalDate yes
# Sync All
# Create Slave
# SyncState *
